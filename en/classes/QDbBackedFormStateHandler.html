<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>QCubed API » \QDbBackedFormStateHandler</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">QCubed API</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Codegen.html"><i class="icon-folder-open"></i> Codegen</a></li>
<li><a href="../packages/Controls.html"><i class="icon-folder-open"></i> Controls</a></li>
<li><a href="../packages/DatabaseAdapters.html"><i class="icon-folder-open"></i> DatabaseAdapters</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/Sessions.html"><i class="icon-folder-open"></i> Sessions</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">2737</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">27</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">8</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_DeleteFormStateForSession" title="DeleteFormStateForSession :: "><span class="description">DeleteFormStateForSession()
        </span><pre>DeleteFormStateForSession()</pre></a></li>
<li class="method public "><a href="#method_GarbageCollect" title="GarbageCollect :: "><span class="description">GarbageCollect()
        </span><pre>GarbageCollect()</pre></a></li>
<li class="method public "><a href="#method_Load" title="Load :: "><span class="description">Load()
        </span><pre>Load()</pre></a></li>
<li class="method public "><a href="#method_Save" title="Save :: "><span class="description">Save()
        </span><pre>Save()</pre></a></li>
<li class="method public inherited"><a href="#method___get" title='__get :: Override method to perform a property "Get"
This will get the value of $strName
All inhereted objects that call __get() should always fall through
to calling parent::__get() in a try/catch statement catching
for CallerExceptions.'><span class="description">Override method to perform a property "Get"
This will get the value of $strName
All inhereted objects that call __get() should always fall through
to calling parent::__get() in a try/catch statement catching
for CallerExceptions.</span><pre>__get()</pre></a></li>
<li class="method public inherited"><a href="#method___set" title='__set :: Override method to perform a property "Set"
This will set the property $strName to be $mixValue
All inhereted objects that call __set() should always fall through
to calling parent::__set() in a try/catch statement catching
for CallerExceptions.'><span class="description">Override method to perform a property "Set"
This will set the property $strName to be $mixValue
All inhereted objects that call __set() should always fall through
to calling parent::__set() in a try/catch statement catching
for CallerExceptions.</span><pre>__set()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul><li class="method private "><a href="#method_Initialize" title="Initialize :: "><span class="description">Initialize()
        </span><pre>Initialize()</pre></a></li></ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul>
<li class="property public "><a href="#property_intDbIndex" title="$intDbIndex :: The database index in configuration.inc.php where the formstates have to be managed"><span class="description"></span><pre>$intDbIndex</pre></a></li>
<li class="property public "><a href="#property_intGarbageCollectDaysOld" title="$intGarbageCollectDaysOld :: The minimum age (in days) a formstate file has to be in order to be considered old enough
to be garbage collected."><span class="description"></span><pre>$intGarbageCollectDaysOld</pre></a></li>
<li class="property public "><a href="#property_intGarbageCollectOnHitCount" title="$intGarbageCollectOnHitCount :: The interval of hits before the garbage collection should kick in to delete
old FormState files, or 0 if it should never be run."><span class="description"></span><pre>$intGarbageCollectOnHitCount</pre></a></li>
<li class="property public "><a href="#property_strTableName" title="$strTableName :: The table name which will handle the formstates."><span class="description"></span><pre>$strTableName</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\QDbBackedFormStateHandler"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/QDbBackedFormStateHandler.html">QDbBackedFormStateHandler</a>
</li>
</ul>
<div class="element class">
<p class="short_description">This will store the formstate in a pre-specified table in the DB.</p>
<div class="details">
<div class="long_description"><p>This offers significant speed advantage over PHP SESSION because EACH form state
is saved in its own row in the DB, and only the form state that is needed for loading will
be accessed (as opposed to with session, ALL the form states are loaded into memory
every time).
The downside is that because it doesn't utilize PHP's session management subsystem,
this class must take care of its own garbage collection/deleting of old/outdated
formstate files.
Because the index is randomy generated and MD5-hashed, there is no benefit from
encrypting it -- therefore, the QForm encryption preferences are ignored when using
QFileFormStateHandler.</p></div>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method_DeleteFormStateForSession"></a><div class="element clickable method public method_DeleteFormStateForSession" data-toggle="collapse" data-target=".method_DeleteFormStateForSession .collapse">
<h2>DeleteFormStateForSession()
        </h2>
<pre>DeleteFormStateForSession() </pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>static</th>
<td>If PHP SESSION is enabled, then this method will delete all formstate files specifically
for this SESSION user (and no one else).  This can be used in lieu of or in addition to the
standard interval-based garbage collection mechanism.
Also, for standard web applications with logins, it might be a good idea to call
this method whenever the user logs out.</td>
</tr></table>
</div></div>
</div>
<a id="method_GarbageCollect"></a><div class="element clickable method public method_GarbageCollect" data-toggle="collapse" data-target=".method_GarbageCollect .collapse">
<h2>GarbageCollect()
        </h2>
<pre>GarbageCollect() </pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>static</th>
<td>This function is responsible for removing the old values from</td>
</tr></table>
</div></div>
</div>
<a id="method_Load"></a><div class="element clickable method public method_Load" data-toggle="collapse" data-target=".method_Load .collapse">
<h2>Load()
        </h2>
<pre>Load($strPostDataState) </pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$strPostDataState</h4></div>
</div></div>
</div>
<a id="method_Save"></a><div class="element clickable method public method_Save" data-toggle="collapse" data-target=".method_Save .collapse">
<h2>Save()
        </h2>
<pre>Save($strFormState, $blnBackButtonFlag) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>static</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$strFormState</h4></div>
<div class="subelement argument"><h4>$blnBackButtonFlag</h4></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method___get"></a><div class="element clickable method public method___get" data-toggle="collapse" data-target=".method___get .collapse">
<h2>Override method to perform a property "Get"
This will get the value of $strName
All inhereted objects that call __get() should always fall through
to calling parent::__get() in a try/catch statement catching
for CallerExceptions.</h2>
<pre>__get(string $strName) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\QBaseClass::__get()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$strName</h4>
<code>string</code><p>Name of the property to get</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/QUndefinedPropertyException.html">\QUndefinedPropertyException</a></code></th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the returned property</div>
</div></div>
</div>
<a id="method___set"></a><div class="element clickable method public method___set" data-toggle="collapse" data-target=".method___set .collapse">
<h2>Override method to perform a property "Set"
This will set the property $strName to be $mixValue
All inhereted objects that call __set() should always fall through
to calling parent::__set() in a try/catch statement catching
for CallerExceptions.</h2>
<pre>__set(string $strName, string $mixValue) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\QBaseClass::__set()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$strName</h4>
<code>string</code><p>Name of the property to set</p></div>
<div class="subelement argument">
<h4>$mixValue</h4>
<code>string</code><p>New value of the property</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/QUndefinedPropertyException.html">\QUndefinedPropertyException</a></code></th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the property that was set</div>
</div></div>
</div>
<a id="method_Initialize"></a><div class="element clickable method private method_Initialize" data-toggle="collapse" data-target=".method_Initialize .collapse">
<h2>Initialize()
        </h2>
<pre>Initialize() </pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property_intDbIndex"> </a><div class="element clickable property public property_intDbIndex" data-toggle="collapse" data-target=".property_intDbIndex .collapse">
<h2></h2>
<pre>$intDbIndex </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_intGarbageCollectDaysOld"> </a><div class="element clickable property public property_intGarbageCollectDaysOld" data-toggle="collapse" data-target=".property_intGarbageCollectDaysOld .collapse">
<h2></h2>
<pre>$intGarbageCollectDaysOld : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>So if set to "1.5", then all formstate files older than 1.5 days
will be deleted when the GC interval is kicked off.
Obviously, if the GC Interval is set to 0, then this GC Days Old value will be never used.</p></div></div></div>
</div>
<a id="property_intGarbageCollectOnHitCount"> </a><div class="element clickable property public property_intGarbageCollectOnHitCount" data-toggle="collapse" data-target=".property_intGarbageCollectOnHitCount .collapse">
<h2></h2>
<pre>$intGarbageCollectOnHitCount : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>The higher the number,
the less often it runs (better aggregated-average performance, but requires more
hard drive space).  The lower the number, the more often it runs (slower aggregated-average
performance, but requires less hard drive space).</p></div></div></div>
</div>
<a id="property_strTableName"> </a><div class="element clickable property public property_strTableName" data-toggle="collapse" data-target=".property_strTableName .collapse">
<h2></h2>
<pre>$strTableName </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>It must have the following columns:
1. page_id: varchar(80)
2. save_time: integer
3. state_data: text
4. session_id: varchar(32)</p></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a12</a> and<br>
            generated on 2013-10-23T02:26:48+07:00.<br></footer></div>
</div>
</body>
</html>
